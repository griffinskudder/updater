<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# models

```go
import "updater/internal/models"
```

Package models \- Application and platform management. This file defines application metadata, platform support, and configuration structures.

Design Decisions: \- Platform\-agnostic design supporting multiple operating systems and architectures \- Flexible configuration system allowing per\-application customization \- Strong validation to ensure data integrity and security \- Normalized platform/architecture identifiers for consistency

Package models \- Service configuration and operational settings. This file defines comprehensive configuration structures for all service components.

Configuration Philosophy: \- Hierarchical configuration with logical grouping \(server, storage, security, etc.\) \- Environment\-friendly defaults that work out of the box \- Comprehensive validation to catch misconfigurations early \- Support for multiple deployment scenarios \(development, production, cloud\) \- Security\-first approach with safe defaults \- Extensible design for future enhancements

Package models \- Release management and integrity verification. This file handles software release metadata, checksum validation, and release filtering.

Security Design Principles: \- Strong cryptographic checksums \(SHA256 preferred\) for integrity verification \- URL validation to prevent malicious download links \- Comprehensive input validation for all release metadata \- Support for multiple checksum algorithms for backward compatibility \- Immutable release identification for audit trails

Package models \- API request types and input validation. This file defines all incoming API request structures with comprehensive validation.

Validation Philosophy: \- Fail fast with clear error messages for invalid input \- Normalize input data for consistent processing \(lowercase platforms, trimmed strings\) \- Validate business rules \(version formats, platform support, constraints\) \- Provide sensible defaults where appropriate \- Separate validation from normalization for clear error reporting

Package models \- API response types and error handling. This file defines all outgoing API response structures with consistent formatting.

Response Design Principles: \- Consistent JSON structure across all endpoints \- Optional fields use omitempty to reduce response size \- Rich error information with codes and details for debugging \- Standardized pagination with metadata \- Helper methods for easy response construction \- RFC3339 timestamps for international compatibility

## Index

- [Constants](<#constants>)
- [Variables](<#variables>)
- [func GenerateAPIKey\(\) \(string, error\)](<#GenerateAPIKey>)
- [func HashAPIKey\(rawKey string\) string](<#HashAPIKey>)
- [func NewKeyID\(\) string](<#NewKeyID>)
- [func NormalizeArchitecture\(arch string\) string](<#NormalizeArchitecture>)
- [func NormalizePlatform\(platform string\) string](<#NormalizePlatform>)
- [type APIKey](<#APIKey>)
  - [func NewAPIKey\(id, name, rawKey string, permissions \[\]string\) \*APIKey](<#NewAPIKey>)
  - [func \(ak \*APIKey\) HasPermission\(required string\) bool](<#APIKey.HasPermission>)
- [type ActivityItem](<#ActivityItem>)
- [type Application](<#Application>)
  - [func NewApplication\(id, name string, platforms \[\]string\) \*Application](<#NewApplication>)
  - [func \(a \*Application\) SupportsArchitecture\(platform, arch string\) bool](<#Application.SupportsArchitecture>)
  - [func \(a \*Application\) SupportsPlatform\(platform string\) bool](<#Application.SupportsPlatform>)
  - [func \(a \*Application\) Validate\(\) error](<#Application.Validate>)
- [type ApplicationConfig](<#ApplicationConfig>)
  - [func \(ac \*ApplicationConfig\) Validate\(\) error](<#ApplicationConfig.Validate>)
- [type ApplicationInfoResponse](<#ApplicationInfoResponse>)
- [type ApplicationStats](<#ApplicationStats>)
- [type ApplicationSummary](<#ApplicationSummary>)
  - [func \(as \*ApplicationSummary\) FromApplication\(app \*Application\)](<#ApplicationSummary.FromApplication>)
- [type CacheConfig](<#CacheConfig>)
  - [func \(cc \*CacheConfig\) Validate\(\) error](<#CacheConfig.Validate>)
- [type ComponentHealth](<#ComponentHealth>)
- [type Config](<#Config>)
  - [func NewDefaultConfig\(\) \*Config](<#NewDefaultConfig>)
  - [func \(c \*Config\) Validate\(\) error](<#Config.Validate>)
- [type CreateApplicationRequest](<#CreateApplicationRequest>)
  - [func \(r \*CreateApplicationRequest\) Normalize\(\)](<#CreateApplicationRequest.Normalize>)
  - [func \(r \*CreateApplicationRequest\) Validate\(\) error](<#CreateApplicationRequest.Validate>)
- [type CreateApplicationResponse](<#CreateApplicationResponse>)
- [type DatabaseConfig](<#DatabaseConfig>)
- [type DeleteReleaseRequest](<#DeleteReleaseRequest>)
- [type DeleteReleaseResponse](<#DeleteReleaseResponse>)
- [type ErrorResponse](<#ErrorResponse>)
  - [func NewErrorResponse\(message string, code string\) \*ErrorResponse](<#NewErrorResponse>)
- [type HealthCheckRequest](<#HealthCheckRequest>)
- [type HealthCheckResponse](<#HealthCheckResponse>)
  - [func NewHealthCheckResponse\(status string\) \*HealthCheckResponse](<#NewHealthCheckResponse>)
  - [func \(h \*HealthCheckResponse\) AddComponent\(name, status, message string\)](<#HealthCheckResponse.AddComponent>)
  - [func \(h \*HealthCheckResponse\) AddMetric\(name string, value interface\{\}\)](<#HealthCheckResponse.AddMetric>)
- [type LatestVersionRequest](<#LatestVersionRequest>)
  - [func \(r \*LatestVersionRequest\) Normalize\(\)](<#LatestVersionRequest.Normalize>)
  - [func \(r \*LatestVersionRequest\) Validate\(\) error](<#LatestVersionRequest.Validate>)
- [type LatestVersionResponse](<#LatestVersionResponse>)
  - [func \(r \*LatestVersionResponse\) FromRelease\(release \*Release\)](<#LatestVersionResponse.FromRelease>)
- [type ListApplicationsResponse](<#ListApplicationsResponse>)
- [type ListReleasesRequest](<#ListReleasesRequest>)
  - [func \(r \*ListReleasesRequest\) Normalize\(\)](<#ListReleasesRequest.Normalize>)
  - [func \(r \*ListReleasesRequest\) Validate\(\) error](<#ListReleasesRequest.Validate>)
- [type ListReleasesResponse](<#ListReleasesResponse>)
- [type LoggingConfig](<#LoggingConfig>)
  - [func \(lc \*LoggingConfig\) Validate\(\) error](<#LoggingConfig.Validate>)
- [type MemoryConfig](<#MemoryConfig>)
- [type MetricsConfig](<#MetricsConfig>)
  - [func \(mc \*MetricsConfig\) Validate\(\) error](<#MetricsConfig.Validate>)
- [type ObservabilityConfig](<#ObservabilityConfig>)
  - [func \(oc \*ObservabilityConfig\) Validate\(\) error](<#ObservabilityConfig.Validate>)
- [type PlatformInfo](<#PlatformInfo>)
  - [func \(pi \*PlatformInfo\) String\(\) string](<#PlatformInfo.String>)
  - [func \(pi \*PlatformInfo\) Validate\(\) error](<#PlatformInfo.Validate>)
- [type RedisConfig](<#RedisConfig>)
- [type RegisterReleaseRequest](<#RegisterReleaseRequest>)
  - [func \(r \*RegisterReleaseRequest\) Normalize\(\)](<#RegisterReleaseRequest.Normalize>)
  - [func \(r \*RegisterReleaseRequest\) Validate\(\) error](<#RegisterReleaseRequest.Validate>)
- [type RegisterReleaseResponse](<#RegisterReleaseResponse>)
- [type Release](<#Release>)
  - [func NewRelease\(appID, version, platform, arch, downloadURL string\) \*Release](<#NewRelease>)
  - [func \(r \*Release\) GenerateChecksum\(data \[\]byte\) string](<#Release.GenerateChecksum>)
  - [func \(r \*Release\) GetMetadata\(key string\) \(string, bool\)](<#Release.GetMetadata>)
  - [func \(r \*Release\) GetPlatformInfo\(\) PlatformInfo](<#Release.GetPlatformInfo>)
  - [func \(r \*Release\) IsCompatibleWith\(platform, arch string\) bool](<#Release.IsCompatibleWith>)
  - [func \(r \*Release\) IsNewerThan\(other \*Release\) \(bool, error\)](<#Release.IsNewerThan>)
  - [func \(r \*Release\) MeetsMinimumVersion\(currentVersion string\) \(bool, error\)](<#Release.MeetsMinimumVersion>)
  - [func \(r \*Release\) SetMetadata\(key, value string\)](<#Release.SetMetadata>)
  - [func \(r \*Release\) Validate\(\) error](<#Release.Validate>)
  - [func \(r \*Release\) ValidateDownloadURL\(\) error](<#Release.ValidateDownloadURL>)
  - [func \(r \*Release\) VerifyChecksum\(data \[\]byte\) bool](<#Release.VerifyChecksum>)
- [type ReleaseFilter](<#ReleaseFilter>)
  - [func \(rf \*ReleaseFilter\) Validate\(\) error](<#ReleaseFilter.Validate>)
- [type ReleaseInfo](<#ReleaseInfo>)
  - [func \(ri \*ReleaseInfo\) FromRelease\(release \*Release\)](<#ReleaseInfo.FromRelease>)
- [type ReleaseMetadata](<#ReleaseMetadata>)
- [type ReleaseStats](<#ReleaseStats>)
- [type SecurityConfig](<#SecurityConfig>)
  - [func \(sec \*SecurityConfig\) Validate\(\) error](<#SecurityConfig.Validate>)
- [type ServerConfig](<#ServerConfig>)
  - [func \(sc \*ServerConfig\) Validate\(\) error](<#ServerConfig.Validate>)
- [type StatsResponse](<#StatsResponse>)
- [type StorageConfig](<#StorageConfig>)
  - [func \(stc \*StorageConfig\) Validate\(\) error](<#StorageConfig.Validate>)
- [type TracingConfig](<#TracingConfig>)
- [type UpdateApplicationRequest](<#UpdateApplicationRequest>)
  - [func \(r \*UpdateApplicationRequest\) Normalize\(\)](<#UpdateApplicationRequest.Normalize>)
  - [func \(r \*UpdateApplicationRequest\) Validate\(\) error](<#UpdateApplicationRequest.Validate>)
- [type UpdateApplicationResponse](<#UpdateApplicationResponse>)
- [type UpdateCheckRequest](<#UpdateCheckRequest>)
  - [func \(r \*UpdateCheckRequest\) Normalize\(\)](<#UpdateCheckRequest.Normalize>)
  - [func \(r \*UpdateCheckRequest\) Validate\(\) error](<#UpdateCheckRequest.Validate>)
- [type UpdateCheckResponse](<#UpdateCheckResponse>)
  - [func \(r \*UpdateCheckResponse\) SetNoUpdateAvailable\(currentVersion string\)](<#UpdateCheckResponse.SetNoUpdateAvailable>)
  - [func \(r \*UpdateCheckResponse\) SetUpdateAvailable\(release \*Release\)](<#UpdateCheckResponse.SetUpdateAvailable>)
- [type ValidationErrorResponse](<#ValidationErrorResponse>)
  - [func NewValidationErrorResponse\(errors map\[string\]string\) \*ValidationErrorResponse](<#NewValidationErrorResponse>)


## Constants

<a name="PlatformWindows"></a>Platform and Architecture Constants

Design Rationale: \- Uses Go's GOOS naming convention for consistency with build system \- Covers major desktop and mobile platforms for broad compatibility \- Architecture names follow Go's GOARCH convention \- Lowercase naming ensures consistent URL and file naming

```go
const (
    // Supported Operating Systems
    PlatformWindows = "windows" // Microsoft Windows
    PlatformLinux   = "linux"   // Linux distributions
    PlatformDarwin  = "darwin"  // macOS (Apple's Darwin kernel)
    PlatformAndroid = "android" // Android mobile OS
    PlatformIOS     = "ios"     // Apple iOS

    // Supported CPU Architectures
    ArchAMD64 = "amd64" // 64-bit x86 (Intel/AMD)
    ArchARM64 = "arm64" // 64-bit ARM (Apple Silicon, ARM servers)
    Arch386   = "386"   // 32-bit x86 (legacy support)
    ArchARM   = "arm"   // 32-bit ARM (Raspberry Pi, older mobile)
)
```

<a name="StorageTypeJSON"></a>Storage type constants

```go
const (
    StorageTypeJSON     = "json"
    StorageTypeMemory   = "memory"
    StorageTypePostgres = "postgres"
    StorageTypeSQLite   = "sqlite"
)
```

<a name="ChecksumTypeSHA256"></a>Checksum Algorithm Constants

Security Considerations: \- SHA256 is preferred for strong cryptographic integrity \- MD5 and SHA1 are supported for legacy compatibility but discouraged \- Future algorithms can be added without breaking existing releases

```go
const (
    ChecksumTypeSHA256 = "sha256" // Recommended: Strong cryptographic hash
    ChecksumTypeMD5    = "md5"    // Legacy: Weak, use only for compatibility
    ChecksumTypeSHA1   = "sha1"   // Legacy: Weak, use only for compatibility
)
```

<a name="StatusHealthy"></a>Health Status Constants

Health Monitoring: \- Healthy: All systems operational \- Degraded: Partial functionality \(some features may be slow/limited\) \- Unhealthy: Major issues affecting core functionality \- Unknown: Health status cannot be determined

```go
const (
    StatusHealthy   = "healthy"   // All systems operational
    StatusUnhealthy = "unhealthy" // Major system issues
    StatusDegraded  = "degraded"  // Partial functionality
    StatusUnknown   = "unknown"   // Status indeterminate
)
```

<a name="ErrorCodeNotFound"></a>Standard HTTP Error Codes

Error Code Strategy: \- Upper\-case with underscores for consistency \- Maps to standard HTTP status codes \- Machine\-readable for client error handling \- Extensible for service\-specific errors

```go
const (
    ErrorCodeNotFound            = "NOT_FOUND"             // 404: Resource doesn't exist
    ErrorCodeApplicationNotFound = "APPLICATION_NOT_FOUND" // 404: Application doesn't exist
    ErrorCodeBadRequest          = "BAD_REQUEST"           // 400: Invalid request format
    ErrorCodeInvalidRequest      = "INVALID_REQUEST"       // 400: Invalid request data
    ErrorCodeValidation          = "VALIDATION_ERROR"      // 422: Input validation failed
    ErrorCodeInternalError       = "INTERNAL_ERROR"        // 500: Server-side error
    ErrorCodeUnauthorized        = "UNAUTHORIZED"          // 401: Authentication required
    ErrorCodeForbidden           = "FORBIDDEN"             // 403: Permission denied
    ErrorCodeConflict            = "CONFLICT"              // 409: Resource conflict
    ErrorCodeServiceUnavailable  = "SERVICE_UNAVAILABLE"   // 503: Service temporarily down
)
```

## Variables

<a name="SupportedPlatforms"></a>

```go
var (
    SupportedPlatforms = []string{
        PlatformWindows,
        PlatformLinux,
        PlatformDarwin,
        PlatformAndroid,
        PlatformIOS,
    }

    SupportedArchitectures = []string{
        ArchAMD64,
        ArchARM64,
        Arch386,
        ArchARM,
    }
)
```

<a name="SupportedChecksumTypes"></a>

```go
var SupportedChecksumTypes = []string{
    ChecksumTypeSHA256,
    ChecksumTypeMD5,
    ChecksumTypeSHA1,
}
```

<a name="GenerateAPIKey"></a>
## func [GenerateAPIKey](<https://github.com/griffinskudder/updater/blob/main/internal/models/api_key.go#L61>)

```go
func GenerateAPIKey() (string, error)
```

GenerateAPIKey produces a new random API key in the format upd\_\<44 url\-safe base64 chars\>.

<a name="HashAPIKey"></a>
## func [HashAPIKey](<https://github.com/griffinskudder/updater/blob/main/internal/models/api_key.go#L70>)

```go
func HashAPIKey(rawKey string) string
```

HashAPIKey computes the SHA\-256 hex digest of a raw API key.

<a name="NewKeyID"></a>
## func [NewKeyID](<https://github.com/griffinskudder/updater/blob/main/internal/models/api_key.go#L76>)

```go
func NewKeyID() string
```

NewKeyID generates a new UUID v4 for use as an APIKey ID.

<a name="NormalizeArchitecture"></a>
## func [NormalizeArchitecture](<https://github.com/griffinskudder/updater/blob/main/internal/models/application.go#L227>)

```go
func NormalizeArchitecture(arch string) string
```



<a name="NormalizePlatform"></a>
## func [NormalizePlatform](<https://github.com/griffinskudder/updater/blob/main/internal/models/application.go#L223>)

```go
func NormalizePlatform(platform string) string
```



<a name="APIKey"></a>
## type [APIKey](<https://github.com/griffinskudder/updater/blob/main/internal/models/api_key.go#L22-L37>)

APIKey represents a stored API key.

The raw key value is never persisted; only the SHA\-256 hex digest \(KeyHash\) and an 8\-character display prefix \(Prefix\) are stored. The raw key is returned exactly once — at creation time — and cannot be recovered afterwards.

Keys are generated by GenerateAPIKey and follow the format upd\_\<44 base64url chars\>. Auth middleware resolves incoming Bearer tokens via GetAPIKeyByHash.

```go
type APIKey struct {
    // ID is a UUID v4 that uniquely identifies the key.
    ID  string `json:"id"`
    // Name is a human-readable label for the key (e.g. "CI Publisher").
    Name string `json:"name"`
    // KeyHash is the SHA-256 hex digest of the raw key. Used for authentication lookups.
    KeyHash string `json:"key_hash"`
    // Prefix is the first 8 characters of the raw key, shown in the admin UI for identification.
    Prefix string `json:"prefix"`
    // Permissions lists the permission levels granted to this key ("read", "write", "admin", or "*").
    Permissions []string `json:"permissions"`
    // Enabled controls whether the key is accepted. Disabled keys are rejected at auth time.
    Enabled   bool      `json:"enabled"`
    CreatedAt time.Time `json:"created_at"`
    UpdatedAt time.Time `json:"updated_at"`
}
```

<a name="NewAPIKey"></a>
### func [NewAPIKey](<https://github.com/griffinskudder/updater/blob/main/internal/models/api_key.go#L40>)

```go
func NewAPIKey(id, name, rawKey string, permissions []string) *APIKey
```

NewAPIKey creates a new APIKey from a raw key string.

<a name="APIKey.HasPermission"></a>
### func \(\*APIKey\) [HasPermission](<https://github.com/griffinskudder/updater/blob/main/internal/models/api_key.go#L81>)

```go
func (ak *APIKey) HasPermission(required string) bool
```

HasPermission returns true when the key is enabled and possesses the required permission.

<a name="ActivityItem"></a>
## type [ActivityItem](<https://github.com/griffinskudder/updater/blob/main/internal/models/response.go#L192-L197>)



```go
type ActivityItem struct {
    Type        string            `json:"type"`
    Description string            `json:"description"`
    Timestamp   time.Time         `json:"timestamp"`
    Metadata    map[string]string `json:"metadata,omitempty"`
}
```

<a name="Application"></a>
## type [Application](<https://github.com/griffinskudder/updater/blob/main/internal/models/application.go#L67-L75>)

Application represents a software application that can receive updates.

Design Principles: \- ID serves as unique identifier and is used in API URLs \(must be URL\-safe\) \- Platforms array supports multi\-platform applications \- Configuration is embedded for easy access and serialization \- Timestamps as strings for flexibility with different storage backends \- Validation tags provide input validation constraints

```go
type Application struct {
    ID          string            `json:"id" validate:"required"`              // Unique application identifier (URL-safe)
    Name        string            `json:"name" validate:"required"`            // Human-readable application name
    Description string            `json:"description"`                         // Optional application description
    Platforms   []string          `json:"platforms" validate:"required,min=1"` // Supported platforms (windows, linux, etc.)
    Config      ApplicationConfig `json:"config"`                              // Application-specific configuration
    CreatedAt   string            `json:"created_at,omitempty"`                // Creation timestamp (RFC3339 format)
    UpdatedAt   string            `json:"updated_at,omitempty"`                // Last modification timestamp
}
```

<a name="NewApplication"></a>
### func [NewApplication](<https://github.com/griffinskudder/updater/blob/main/internal/models/application.go#L107>)

```go
func NewApplication(id, name string, platforms []string) *Application
```

NewApplication creates a new Application with sensible defaults.

Default Configuration: \- Auto\-update disabled for safety \- 1\-hour update check interval \- No required updates \(user choice\) \- Pre\-release versions disabled \- Analytics disabled \(privacy first\) \- Empty custom fields map initialized

<a name="Application.SupportsArchitecture"></a>
### func \(\*Application\) [SupportsArchitecture](<https://github.com/griffinskudder/updater/blob/main/internal/models/application.go#L162>)

```go
func (a *Application) SupportsArchitecture(platform, arch string) bool
```



<a name="Application.SupportsPlatform"></a>
### func \(\*Application\) [SupportsPlatform](<https://github.com/griffinskudder/updater/blob/main/internal/models/application.go#L153>)

```go
func (a *Application) SupportsPlatform(platform string) bool
```



<a name="Application.Validate"></a>
### func \(\*Application\) [Validate](<https://github.com/griffinskudder/updater/blob/main/internal/models/application.go#L123>)

```go
func (a *Application) Validate() error
```



<a name="ApplicationConfig"></a>
## type [ApplicationConfig](<https://github.com/griffinskudder/updater/blob/main/internal/models/application.go#L85-L96>)

ApplicationConfig contains application\-specific settings for update behavior.

Design Considerations: \- Flexible update policies \(auto\-update, intervals, required updates\) \- Version constraints for compatibility management \- Webhook support for integration with external systems \- Privacy\-conscious analytics \(disabled by default\) \- Extensible via CustomFields for application\-specific metadata

```go
type ApplicationConfig struct {
    UpdateCheckURL   string            `json:"update_check_url,omitempty"` // Custom update check endpoint override
    AutoUpdate       bool              `json:"auto_update"`                // Enable automatic updates
    UpdateInterval   int               `json:"update_interval"`            // Update check interval in seconds
    RequiredUpdate   bool              `json:"required_update"`            // Force updates (security patches)
    MinVersion       string            `json:"min_version,omitempty"`      // Minimum supported version
    MaxVersion       string            `json:"max_version,omitempty"`      // Maximum supported version
    AllowPrerelease  bool              `json:"allow_prerelease"`           // Include pre-release versions
    CustomFields     map[string]string `json:"custom_fields,omitempty"`    // Application-specific metadata
    NotificationURL  string            `json:"notification_url,omitempty"` // Webhook for update notifications
    AnalyticsEnabled bool              `json:"analytics_enabled"`          // Privacy-conscious usage analytics
}
```

<a name="ApplicationConfig.Validate"></a>
### func \(\*ApplicationConfig\) [Validate](<https://github.com/griffinskudder/updater/blob/main/internal/models/application.go#L169>)

```go
func (ac *ApplicationConfig) Validate() error
```



<a name="ApplicationInfoResponse"></a>
## type [ApplicationInfoResponse](<https://github.com/griffinskudder/updater/blob/main/internal/models/response.go#L147-L156>)



```go
type ApplicationInfoResponse struct {
    ID          string            `json:"id"`
    Name        string            `json:"name"`
    Description string            `json:"description"`
    Platforms   []string          `json:"platforms"`
    Config      ApplicationConfig `json:"config"`
    Stats       ApplicationStats  `json:"stats"`
    CreatedAt   time.Time         `json:"created_at"`
    UpdatedAt   time.Time         `json:"updated_at"`
}
```

<a name="ApplicationStats"></a>
## type [ApplicationStats](<https://github.com/griffinskudder/updater/blob/main/internal/models/response.go#L158-L164>)



```go
type ApplicationStats struct {
    TotalReleases     int        `json:"total_releases"`
    LatestVersion     string     `json:"latest_version,omitempty"`
    LatestReleaseDate *time.Time `json:"latest_release_date,omitempty"`
    PlatformCount     int        `json:"platform_count"`
    RequiredReleases  int        `json:"required_releases"`
}
```

<a name="ApplicationSummary"></a>
## type [ApplicationSummary](<https://github.com/griffinskudder/updater/blob/main/internal/models/response.go#L174-L181>)



```go
type ApplicationSummary struct {
    ID          string    `json:"id"`
    Name        string    `json:"name"`
    Description string    `json:"description"`
    Platforms   []string  `json:"platforms"`
    CreatedAt   time.Time `json:"created_at"`
    UpdatedAt   time.Time `json:"updated_at"`
}
```

<a name="ApplicationSummary.FromApplication"></a>
### func \(\*ApplicationSummary\) [FromApplication](<https://github.com/griffinskudder/updater/blob/main/internal/models/response.go#L301>)

```go
func (as *ApplicationSummary) FromApplication(app *Application)
```



<a name="CacheConfig"></a>
## type [CacheConfig](<https://github.com/griffinskudder/updater/blob/main/internal/models/config.go#L101-L107>)



```go
type CacheConfig struct {
    Enabled bool          `yaml:"enabled" json:"enabled"`
    Type    string        `yaml:"type" json:"type"`
    TTL     time.Duration `yaml:"ttl" json:"ttl"`
    Redis   RedisConfig   `yaml:"redis" json:"redis"`
    Memory  MemoryConfig  `yaml:"memory" json:"memory"`
}
```

<a name="CacheConfig.Validate"></a>
### func \(\*CacheConfig\) [Validate](<https://github.com/griffinskudder/updater/blob/main/internal/models/config.go#L363>)

```go
func (cc *CacheConfig) Validate() error
```



<a name="ComponentHealth"></a>
## type [ComponentHealth](<https://github.com/griffinskudder/updater/blob/main/internal/models/response.go#L140-L145>)



```go
type ComponentHealth struct {
    Status    string                 `json:"status"`
    Message   string                 `json:"message,omitempty"`
    Details   map[string]interface{} `json:"details,omitempty"`
    Timestamp time.Time              `json:"timestamp"`
}
```

<a name="Config"></a>
## type [Config](<https://github.com/griffinskudder/updater/blob/main/internal/models/config.go#L42-L50>)

Config is the root configuration structure containing all service settings.

Configuration Structure: \- Server: HTTP server and network settings \- Storage: Database and file storage configuration \- Security: Authentication and authorization \- Logging: Structured logging and output configuration \- Cache: Performance caching settings \- Metrics: Monitoring and observability

Design Benefits: \- Single source of truth for all configuration \- Clear separation of concerns by component \- Easy to serialize/deserialize from YAML/JSON \- Comprehensive validation across all components

```go
type Config struct {
    Server        ServerConfig        `yaml:"server" json:"server"`               // HTTP server configuration
    Storage       StorageConfig       `yaml:"storage" json:"storage"`             // Data persistence settings
    Security      SecurityConfig      `yaml:"security" json:"security"`           // Authentication and authorization
    Logging       LoggingConfig       `yaml:"logging" json:"logging"`             // Logging and output configuration
    Cache         CacheConfig         `yaml:"cache" json:"cache"`                 // Performance caching
    Metrics       MetricsConfig       `yaml:"metrics" json:"metrics"`             // Monitoring and metrics
    Observability ObservabilityConfig `yaml:"observability" json:"observability"` // OpenTelemetry observability
}
```

<a name="NewDefaultConfig"></a>
### func [NewDefaultConfig](<https://github.com/griffinskudder/updater/blob/main/internal/models/config.go#L158>)

```go
func NewDefaultConfig() *Config
```

NewDefaultConfig creates a configuration with production\-ready defaults.

Default Configuration Principles: \- Security\-first: Authentication disabled but ready, HTTPS preferred \- Performance: Reasonable timeouts and connection limits \- Reliability: Conservative rate limits, structured logging \- Observability: Metrics enabled by default for monitoring \- Development\-friendly: JSON file storage, permissive CORS for testing \- Production\-ready: Easy to override for deployment\-specific needs

Default Values Rationale: \- Port 8080: Standard non\-privileged HTTP port \- 30\-second timeouts: Balance between user experience and resource protection \- JSON storage: Simple setup without external dependencies \- Structured logging: Better for log aggregation and analysis \- Memory caching: Good performance without external dependencies

<a name="Config.Validate"></a>
### func \(\*Config\) [Validate](<https://github.com/griffinskudder/updater/blob/main/internal/models/config.go#L217>)

```go
func (c *Config) Validate() error
```



<a name="CreateApplicationRequest"></a>
## type [CreateApplicationRequest](<https://github.com/griffinskudder/updater/blob/main/internal/models/request.go#L95-L101>)



```go
type CreateApplicationRequest struct {
    ID          string            `json:"id" validate:"required"`
    Name        string            `json:"name" validate:"required"`
    Description string            `json:"description"`
    Platforms   []string          `json:"platforms" validate:"required,min=1"`
    Config      ApplicationConfig `json:"config"`
}
```

<a name="CreateApplicationRequest.Normalize"></a>
### func \(\*CreateApplicationRequest\) [Normalize](<https://github.com/griffinskudder/updater/blob/main/internal/models/request.go#L295>)

```go
func (r *CreateApplicationRequest) Normalize()
```



<a name="CreateApplicationRequest.Validate"></a>
### func \(\*CreateApplicationRequest\) [Validate](<https://github.com/griffinskudder/updater/blob/main/internal/models/request.go#L265>)

```go
func (r *CreateApplicationRequest) Validate() error
```



<a name="CreateApplicationResponse"></a>
## type [CreateApplicationResponse](<https://github.com/griffinskudder/updater/blob/main/internal/models/response.go#L90-L94>)



```go
type CreateApplicationResponse struct {
    ID        string    `json:"id"`
    Message   string    `json:"message"`
    CreatedAt time.Time `json:"created_at"`
}
```

<a name="DatabaseConfig"></a>
## type [DatabaseConfig](<https://github.com/griffinskudder/updater/blob/main/internal/models/config.go#L70-L77>)



```go
type DatabaseConfig struct {
    Driver          string        `yaml:"driver" json:"driver"`
    DSN             string        `yaml:"dsn" json:"dsn"`
    MaxOpenConns    int           `yaml:"max_open_conns" json:"max_open_conns"`
    MaxIdleConns    int           `yaml:"max_idle_conns" json:"max_idle_conns"`
    ConnMaxLifetime time.Duration `yaml:"conn_max_lifetime" json:"conn_max_lifetime"`
    ConnMaxIdleTime time.Duration `yaml:"conn_max_idle_time" json:"conn_max_idle_time"`
}
```

<a name="DeleteReleaseRequest"></a>
## type [DeleteReleaseRequest](<https://github.com/griffinskudder/updater/blob/main/internal/models/request.go#L110-L113>)



```go
type DeleteReleaseRequest struct {
    ApplicationID string `json:"application_id" validate:"required"`
    ReleaseID     string `json:"release_id" validate:"required"`
}
```

<a name="DeleteReleaseResponse"></a>
## type [DeleteReleaseResponse](<https://github.com/griffinskudder/updater/blob/main/internal/models/response.go#L102-L105>)



```go
type DeleteReleaseResponse struct {
    ID      string `json:"id"`
    Message string `json:"message"`
}
```

<a name="ErrorResponse"></a>
## type [ErrorResponse](<https://github.com/griffinskudder/updater/blob/main/internal/models/response.go#L122-L129>)

ErrorResponse provides structured error information with debugging context.

Error Handling Design: \- Consistent error structure across all endpoints \- Machine\-readable error codes for programmatic handling \- Human\-readable messages for user interfaces \- Details map for field\-specific validation errors \- Request ID for distributed tracing and support \- Timestamps for debugging and audit trails

Error Categories: \- Validation errors: Input format/constraint violations \- Not found errors: Resource doesn't exist \- Authorization errors: Authentication/permission failures \- Internal errors: Server\-side issues

```go
type ErrorResponse struct {
    Error     string            `json:"error"`                // Error type (always "error")
    Message   string            `json:"message"`              // Human-readable error description
    Code      string            `json:"code,omitempty"`       // Machine-readable error code
    Details   map[string]string `json:"details,omitempty"`    // Field-specific error details
    Timestamp time.Time         `json:"timestamp"`            // Error occurrence time
    RequestID string            `json:"request_id,omitempty"` // Unique request identifier
}
```

<a name="NewErrorResponse"></a>
### func [NewErrorResponse](<https://github.com/griffinskudder/updater/blob/main/internal/models/response.go#L238>)

```go
func NewErrorResponse(message string, code string) *ErrorResponse
```



<a name="HealthCheckRequest"></a>
## type [HealthCheckRequest](<https://github.com/griffinskudder/updater/blob/main/internal/models/request.go#L115-L118>)



```go
type HealthCheckRequest struct {
    Component string `json:"component,omitempty"`
    Deep      bool   `json:"deep"`
}
```

<a name="HealthCheckResponse"></a>
## type [HealthCheckResponse](<https://github.com/griffinskudder/updater/blob/main/internal/models/response.go#L131-L138>)



```go
type HealthCheckResponse struct {
    Status     string                     `json:"status"`
    Timestamp  time.Time                  `json:"timestamp"`
    Version    string                     `json:"version,omitempty"`
    Uptime     string                     `json:"uptime,omitempty"`
    Components map[string]ComponentHealth `json:"components,omitempty"`
    Metrics    map[string]interface{}     `json:"metrics,omitempty"`
}
```

<a name="NewHealthCheckResponse"></a>
### func [NewHealthCheckResponse](<https://github.com/griffinskudder/updater/blob/main/internal/models/response.go#L308>)

```go
func NewHealthCheckResponse(status string) *HealthCheckResponse
```



<a name="HealthCheckResponse.AddComponent"></a>
### func \(\*HealthCheckResponse\) [AddComponent](<https://github.com/griffinskudder/updater/blob/main/internal/models/response.go#L317>)

```go
func (h *HealthCheckResponse) AddComponent(name, status, message string)
```



<a name="HealthCheckResponse.AddMetric"></a>
### func \(\*HealthCheckResponse\) [AddMetric](<https://github.com/griffinskudder/updater/blob/main/internal/models/response.go#L326>)

```go
func (h *HealthCheckResponse) AddMetric(name string, value interface{})
```



<a name="LatestVersionRequest"></a>
## type [LatestVersionRequest](<https://github.com/griffinskudder/updater/blob/main/internal/models/request.go#L44-L50>)



```go
type LatestVersionRequest struct {
    ApplicationID   string `json:"application_id" validate:"required"`
    Platform        string `json:"platform" validate:"required"`
    Architecture    string `json:"architecture" validate:"required"`
    AllowPrerelease bool   `json:"allow_prerelease"`
    IncludeMetadata bool   `json:"include_metadata"`
}
```

<a name="LatestVersionRequest.Normalize"></a>
### func \(\*LatestVersionRequest\) [Normalize](<https://github.com/griffinskudder/updater/blob/main/internal/models/request.go#L141>)

```go
func (r *LatestVersionRequest) Normalize()
```



<a name="LatestVersionRequest.Validate"></a>
### func \(\*LatestVersionRequest\) [Validate](<https://github.com/griffinskudder/updater/blob/main/internal/models/request.go#L137>)

```go
func (r *LatestVersionRequest) Validate() error
```



<a name="LatestVersionResponse"></a>
## type [LatestVersionResponse](<https://github.com/griffinskudder/updater/blob/main/internal/models/response.go#L48-L58>)



```go
type LatestVersionResponse struct {
    Version      string            `json:"version"`
    DownloadURL  string            `json:"download_url"`
    Checksum     string            `json:"checksum"`
    ChecksumType string            `json:"checksum_type"`
    FileSize     int64             `json:"file_size"`
    ReleaseNotes string            `json:"release_notes"`
    ReleaseDate  time.Time         `json:"release_date"`
    Required     bool              `json:"required"`
    Metadata     map[string]string `json:"metadata,omitempty"`
}
```

<a name="LatestVersionResponse.FromRelease"></a>
### func \(\*LatestVersionResponse\) [FromRelease](<https://github.com/griffinskudder/updater/blob/main/internal/models/response.go#L273>)

```go
func (r *LatestVersionResponse) FromRelease(release *Release)
```



<a name="ListApplicationsResponse"></a>
## type [ListApplicationsResponse](<https://github.com/griffinskudder/updater/blob/main/internal/models/response.go#L166-L172>)



```go
type ListApplicationsResponse struct {
    Applications []ApplicationSummary `json:"applications"`
    TotalCount   int                  `json:"total_count"`
    Page         int                  `json:"page"`
    PageSize     int                  `json:"page_size"`
    HasMore      bool                 `json:"has_more"`
}
```

<a name="ListReleasesRequest"></a>
## type [ListReleasesRequest](<https://github.com/griffinskudder/updater/blob/main/internal/models/request.go#L52-L63>)



```go
type ListReleasesRequest struct {
    ApplicationID string   `json:"application_id" validate:"required"`
    Platform      string   `json:"platform,omitempty"`
    Architecture  string   `json:"architecture,omitempty"`
    Version       string   `json:"version,omitempty"`
    Required      *bool    `json:"required,omitempty"`
    Limit         int      `json:"limit,omitempty"`
    Offset        int      `json:"offset,omitempty"`
    SortBy        string   `json:"sort_by,omitempty"`
    SortOrder     string   `json:"sort_order,omitempty"`
    Platforms     []string `json:"platforms,omitempty"`
}
```

<a name="ListReleasesRequest.Normalize"></a>
### func \(\*ListReleasesRequest\) [Normalize](<https://github.com/griffinskudder/updater/blob/main/internal/models/request.go#L199>)

```go
func (r *ListReleasesRequest) Normalize()
```



<a name="ListReleasesRequest.Validate"></a>
### func \(\*ListReleasesRequest\) [Validate](<https://github.com/griffinskudder/updater/blob/main/internal/models/request.go#L145>)

```go
func (r *ListReleasesRequest) Validate() error
```



<a name="ListReleasesResponse"></a>
## type [ListReleasesResponse](<https://github.com/griffinskudder/updater/blob/main/internal/models/response.go#L60-L66>)



```go
type ListReleasesResponse struct {
    Releases   []ReleaseInfo `json:"releases"`
    TotalCount int           `json:"total_count"`
    Page       int           `json:"page"`
    PageSize   int           `json:"page_size"`
    HasMore    bool          `json:"has_more"`
}
```

<a name="LoggingConfig"></a>
## type [LoggingConfig](<https://github.com/griffinskudder/updater/blob/main/internal/models/config.go#L90-L99>)



```go
type LoggingConfig struct {
    Level      string `yaml:"level" json:"level"`
    Format     string `yaml:"format" json:"format"`
    Output     string `yaml:"output" json:"output"`
    FilePath   string `yaml:"file_path" json:"file_path"`
    MaxSize    int    `yaml:"max_size" json:"max_size"`
    MaxBackups int    `yaml:"max_backups" json:"max_backups"`
    MaxAge     int    `yaml:"max_age" json:"max_age"`
    Compress   bool   `yaml:"compress" json:"compress"`
}
```

<a name="LoggingConfig.Validate"></a>
### func \(\*LoggingConfig\) [Validate](<https://github.com/griffinskudder/updater/blob/main/internal/models/config.go#L319>)

```go
func (lc *LoggingConfig) Validate() error
```



<a name="MemoryConfig"></a>
## type [MemoryConfig](<https://github.com/griffinskudder/updater/blob/main/internal/models/config.go#L116-L119>)



```go
type MemoryConfig struct {
    MaxSize         int           `yaml:"max_size" json:"max_size"`
    CleanupInterval time.Duration `yaml:"cleanup_interval" json:"cleanup_interval"`
}
```

<a name="MetricsConfig"></a>
## type [MetricsConfig](<https://github.com/griffinskudder/updater/blob/main/internal/models/config.go#L121-L125>)



```go
type MetricsConfig struct {
    Enabled bool   `yaml:"enabled" json:"enabled"`
    Path    string `yaml:"path" json:"path"`
    Port    int    `yaml:"port" json:"port"`
}
```

<a name="MetricsConfig.Validate"></a>
### func \(\*MetricsConfig\) [Validate](<https://github.com/griffinskudder/updater/blob/main/internal/models/config.go#L391>)

```go
func (mc *MetricsConfig) Validate() error
```



<a name="ObservabilityConfig"></a>
## type [ObservabilityConfig](<https://github.com/griffinskudder/updater/blob/main/internal/models/config.go#L129-L132>)

ObservabilityConfig holds configuration for OpenTelemetry\-based observability. Note: ServiceVersion is now set at build time via ldflags, not via configuration.

```go
type ObservabilityConfig struct {
    ServiceName string        `yaml:"service_name" json:"service_name"`
    Tracing     TracingConfig `yaml:"tracing" json:"tracing"`
}
```

<a name="ObservabilityConfig.Validate"></a>
### func \(\*ObservabilityConfig\) [Validate](<https://github.com/griffinskudder/updater/blob/main/internal/models/config.go#L407>)

```go
func (oc *ObservabilityConfig) Validate() error
```



<a name="PlatformInfo"></a>
## type [PlatformInfo](<https://github.com/griffinskudder/updater/blob/main/internal/models/application.go#L239-L242>)

PlatformInfo represents a platform/architecture combination.

Usage: \- Used for filtering releases by target platform \- Validates platform/architecture compatibility \- Provides string representation for file naming and URLs

Example: PlatformInfo\{"windows", "amd64"\} \-\> "windows\-amd64"

```go
type PlatformInfo struct {
    Platform     string `json:"platform"`     // Operating system (windows, linux, darwin, etc.)
    Architecture string `json:"architecture"` // CPU architecture (amd64, arm64, 386, arm)
}
```

<a name="PlatformInfo.String"></a>
### func \(\*PlatformInfo\) [String](<https://github.com/griffinskudder/updater/blob/main/internal/models/application.go#L254>)

```go
func (pi *PlatformInfo) String() string
```



<a name="PlatformInfo.Validate"></a>
### func \(\*PlatformInfo\) [Validate](<https://github.com/griffinskudder/updater/blob/main/internal/models/application.go#L244>)

```go
func (pi *PlatformInfo) Validate() error
```



<a name="RedisConfig"></a>
## type [RedisConfig](<https://github.com/griffinskudder/updater/blob/main/internal/models/config.go#L109-L114>)



```go
type RedisConfig struct {
    Addr     string `yaml:"addr" json:"addr"`
    Password string `yaml:"password" json:"password"`
    DB       int    `yaml:"db" json:"db"`
    PoolSize int    `yaml:"pool_size" json:"pool_size"`
}
```

<a name="RegisterReleaseRequest"></a>
## type [RegisterReleaseRequest](<https://github.com/griffinskudder/updater/blob/main/internal/models/request.go#L80-L93>)

RegisterReleaseRequest represents a request to register a new release \(admin operation\).

Administrative API Design: \- Complete release information required for proper distribution \- URL validation ensures download links are accessible and safe \- Checksum and size validation for integrity verification \- Flexible metadata support for extensibility \- Required flag enables critical security update workflows \- MinimumVersion supports controlled upgrade paths

Security Considerations: \- This is an admin\-only operation requiring authentication \- All URLs are validated to prevent malicious links \- Checksums must be provided to ensure integrity \- File size helps detect corruption and manage storage

```go
type RegisterReleaseRequest struct {
    ApplicationID  string            `json:"application_id" validate:"required"`   // Target application
    Version        string            `json:"version" validate:"required"`          // Release version (semantic)
    Platform       string            `json:"platform" validate:"required"`         // Target platform
    Architecture   string            `json:"architecture" validate:"required"`     // Target architecture
    DownloadURL    string            `json:"download_url" validate:"required,url"` // External download location
    Checksum       string            `json:"checksum" validate:"required"`         // File integrity hash
    ChecksumType   string            `json:"checksum_type" validate:"required"`    // Hash algorithm
    FileSize       int64             `json:"file_size" validate:"min=0"`           // File size in bytes
    ReleaseNotes   string            `json:"release_notes"`                        // Change description
    Required       bool              `json:"required"`                             // Force update flag
    MinimumVersion string            `json:"minimum_version,omitempty"`            // Required current version
    Metadata       map[string]string `json:"metadata,omitempty"`                   // Additional metadata
}
```

<a name="RegisterReleaseRequest.Normalize"></a>
### func \(\*RegisterReleaseRequest\) [Normalize](<https://github.com/griffinskudder/updater/blob/main/internal/models/request.go#L257>)

```go
func (r *RegisterReleaseRequest) Normalize()
```



<a name="RegisterReleaseRequest.Validate"></a>
### func \(\*RegisterReleaseRequest\) [Validate](<https://github.com/griffinskudder/updater/blob/main/internal/models/request.go#L219>)

```go
func (r *RegisterReleaseRequest) Validate() error
```



<a name="RegisterReleaseResponse"></a>
## type [RegisterReleaseResponse](<https://github.com/griffinskudder/updater/blob/main/internal/models/response.go#L84-L88>)



```go
type RegisterReleaseResponse struct {
    ID        string    `json:"id"`
    Message   string    `json:"message"`
    CreatedAt time.Time `json:"created_at"`
}
```

<a name="Release"></a>
## type [Release](<https://github.com/griffinskudder/updater/blob/main/internal/models/release.go#L53-L70>)

Release represents a software release with complete metadata and security information.

Design Rationale: \- Composite ID ensures uniqueness across app/version/platform/arch combinations \- External download URLs support CDN distribution and scaling \- Cryptographic checksums ensure download integrity \- File size enables progress tracking and storage planning \- Required flag supports security patch distribution \- MinimumVersion enforces upgrade paths and compatibility \- Extensible metadata for future needs \(signatures, mirrors, etc.\) \- Audit trail with creation and update timestamps

```go
type Release struct {
    ID             string            `json:"id" validate:"required"`               // Unique release identifier (app-version-platform-arch)
    ApplicationID  string            `json:"application_id" validate:"required"`   // Parent application identifier
    Version        string            `json:"version" validate:"required"`          // Semantic version string
    Platform       string            `json:"platform" validate:"required"`         // Target operating system
    Architecture   string            `json:"architecture" validate:"required"`     // Target CPU architecture
    DownloadURL    string            `json:"download_url" validate:"required,url"` // External download location
    Checksum       string            `json:"checksum" validate:"required"`         // Cryptographic hash for integrity
    ChecksumType   string            `json:"checksum_type" validate:"required"`    // Hash algorithm (sha256, md5, sha1)
    FileSize       int64             `json:"file_size" validate:"min=0"`           // File size in bytes
    ReleaseNotes   string            `json:"release_notes"`                        // Human-readable change description
    ReleaseDate    time.Time         `json:"release_date"`                         // Official release timestamp
    Required       bool              `json:"required"`                             // Force update (security patches)
    MinimumVersion string            `json:"minimum_version,omitempty"`            // Required current version for upgrade
    Metadata       map[string]string `json:"metadata,omitempty"`                   // Extensible key-value metadata
    CreatedAt      time.Time         `json:"created_at"`                           // Record creation timestamp
    UpdatedAt      time.Time         `json:"updated_at"`                           // Last modification timestamp
}
```

<a name="NewRelease"></a>
### func [NewRelease](<https://github.com/griffinskudder/updater/blob/main/internal/models/release.go#L115>)

```go
func NewRelease(appID, version, platform, arch, downloadURL string) *Release
```

NewRelease creates a new Release with secure defaults.

Security Defaults: \- Generated composite ID for uniqueness and predictability \- SHA256 checksum algorithm for strong integrity verification \- Current timestamp for audit trails \- Non\-required update \(safety first \- let users choose\) \- Initialized metadata map for extensibility

<a name="Release.GenerateChecksum"></a>
### func \(\*Release\) [GenerateChecksum](<https://github.com/griffinskudder/updater/blob/main/internal/models/release.go#L250>)

```go
func (r *Release) GenerateChecksum(data []byte) string
```



<a name="Release.GetMetadata"></a>
### func \(\*Release\) [GetMetadata](<https://github.com/griffinskudder/updater/blob/main/internal/models/release.go#L275>)

```go
func (r *Release) GetMetadata(key string) (string, bool)
```



<a name="Release.GetPlatformInfo"></a>
### func \(\*Release\) [GetPlatformInfo](<https://github.com/griffinskudder/updater/blob/main/internal/models/release.go#L206>)

```go
func (r *Release) GetPlatformInfo() PlatformInfo
```



<a name="Release.IsCompatibleWith"></a>
### func \(\*Release\) [IsCompatibleWith](<https://github.com/griffinskudder/updater/blob/main/internal/models/release.go#L227>)

```go
func (r *Release) IsCompatibleWith(platform, arch string) bool
```



<a name="Release.IsNewerThan"></a>
### func \(\*Release\) [IsNewerThan](<https://github.com/griffinskudder/updater/blob/main/internal/models/release.go#L213>)

```go
func (r *Release) IsNewerThan(other *Release) (bool, error)
```



<a name="Release.MeetsMinimumVersion"></a>
### func \(\*Release\) [MeetsMinimumVersion](<https://github.com/griffinskudder/updater/blob/main/internal/models/release.go#L232>)

```go
func (r *Release) MeetsMinimumVersion(currentVersion string) (bool, error)
```



<a name="Release.SetMetadata"></a>
### func \(\*Release\) [SetMetadata](<https://github.com/griffinskudder/updater/blob/main/internal/models/release.go#L267>)

```go
func (r *Release) SetMetadata(key, value string)
```



<a name="Release.Validate"></a>
### func \(\*Release\) [Validate](<https://github.com/griffinskudder/updater/blob/main/internal/models/release.go#L135>)

```go
func (r *Release) Validate() error
```



<a name="Release.ValidateDownloadURL"></a>
### func \(\*Release\) [ValidateDownloadURL](<https://github.com/griffinskudder/updater/blob/main/internal/models/release.go#L189>)

```go
func (r *Release) ValidateDownloadURL() error
```



<a name="Release.VerifyChecksum"></a>
### func \(\*Release\) [VerifyChecksum](<https://github.com/griffinskudder/updater/blob/main/internal/models/release.go#L261>)

```go
func (r *Release) VerifyChecksum(data []byte) bool
```



<a name="ReleaseFilter"></a>
## type [ReleaseFilter](<https://github.com/griffinskudder/updater/blob/main/internal/models/release.go#L80-L91>)

ReleaseFilter provides flexible querying and pagination for release lists.

Query Design: \- Supports filtering by any combination of fields \- Pagination with limit/offset for large datasets \- Flexible sorting by multiple fields \- Multi\-platform queries for cross\-platform applications \- Boolean pointer for Required allows three states: true, false, nil \(don't care\)

```go
type ReleaseFilter struct {
    ApplicationID string   `json:"application_id,omitempty"` // Filter by application
    Platform      string   `json:"platform,omitempty"`       // Filter by single platform
    Architecture  string   `json:"architecture,omitempty"`   // Filter by architecture
    Version       string   `json:"version,omitempty"`        // Filter by specific version
    Required      *bool    `json:"required,omitempty"`       // Filter by required status (nil = all)
    Limit         int      `json:"limit,omitempty"`          // Maximum results to return
    Offset        int      `json:"offset,omitempty"`         // Results to skip (pagination)
    SortBy        string   `json:"sort_by,omitempty"`        // Field to sort by
    SortOrder     string   `json:"sort_order,omitempty"`     // Sort direction (asc/desc)
    Platforms     []string `json:"platforms,omitempty"`      // Filter by multiple platforms
}
```

<a name="ReleaseFilter.Validate"></a>
### func \(\*ReleaseFilter\) [Validate](<https://github.com/griffinskudder/updater/blob/main/internal/models/release.go#L305>)

```go
func (rf *ReleaseFilter) Validate() error
```



<a name="ReleaseInfo"></a>
## type [ReleaseInfo](<https://github.com/griffinskudder/updater/blob/main/internal/models/response.go#L68-L82>)



```go
type ReleaseInfo struct {
    ID             string            `json:"id"`
    Version        string            `json:"version"`
    Platform       string            `json:"platform"`
    Architecture   string            `json:"architecture"`
    DownloadURL    string            `json:"download_url"`
    Checksum       string            `json:"checksum"`
    ChecksumType   string            `json:"checksum_type"`
    FileSize       int64             `json:"file_size"`
    ReleaseNotes   string            `json:"release_notes"`
    ReleaseDate    time.Time         `json:"release_date"`
    Required       bool              `json:"required"`
    MinimumVersion string            `json:"minimum_version,omitempty"`
    Metadata       map[string]string `json:"metadata,omitempty"`
}
```

<a name="ReleaseInfo.FromRelease"></a>
### func \(\*ReleaseInfo\) [FromRelease](<https://github.com/griffinskudder/updater/blob/main/internal/models/response.go#L285>)

```go
func (ri *ReleaseInfo) FromRelease(release *Release)
```



<a name="ReleaseMetadata"></a>
## type [ReleaseMetadata](<https://github.com/griffinskudder/updater/blob/main/internal/models/release.go#L100-L105>)

ReleaseMetadata contains additional file and security information for releases.

Extended Metadata: \- FileName for original file naming and client\-side handling \- ContentType for proper MIME handling and security \- Signature for future cryptographic verification \(code signing\) \- Publisher for trust and accountability

```go
type ReleaseMetadata struct {
    FileName    string `json:"file_name,omitempty"`    // Original filename for download
    ContentType string `json:"content_type,omitempty"` // MIME type for proper handling
    Signature   string `json:"signature,omitempty"`    // Cryptographic signature (future)
    Publisher   string `json:"publisher,omitempty"`    // Publisher/signer identity
}
```

<a name="ReleaseStats"></a>
## type [ReleaseStats](<https://github.com/griffinskudder/updater/blob/main/internal/models/release.go#L297-L303>)



```go
type ReleaseStats struct {
    TotalReleases     int       `json:"total_releases"`
    LatestVersion     string    `json:"latest_version"`
    LatestReleaseDate time.Time `json:"latest_release_date"`
    PlatformCount     int       `json:"platform_count"`
    RequiredReleases  int       `json:"required_releases"`
}
```

<a name="SecurityConfig"></a>
## type [SecurityConfig](<https://github.com/griffinskudder/updater/blob/main/internal/models/config.go#L80-L88>)

SecurityConfig holds authentication and authorisation settings.

```go
type SecurityConfig struct {
    // BootstrapKey is the initial admin API key seeded into storage on first startup
    // when the api_keys table is empty. Required when EnableAuth is true.
    // Set via the UPDATER_BOOTSTRAP_KEY environment variable or security.bootstrap_key
    // in the config file. After the first startup, keys are managed via the REST API.
    BootstrapKey string `yaml:"bootstrap_key" json:"bootstrap_key"`
    // EnableAuth toggles API key authentication. When false all endpoints are public.
    EnableAuth bool `yaml:"enable_auth" json:"enable_auth"`
}
```

<a name="SecurityConfig.Validate"></a>
### func \(\*SecurityConfig\) [Validate](<https://github.com/griffinskudder/updater/blob/main/internal/models/config.go#L311>)

```go
func (sec *SecurityConfig) Validate() error
```



<a name="ServerConfig"></a>
## type [ServerConfig](<https://github.com/griffinskudder/updater/blob/main/internal/models/config.go#L52-L61>)



```go
type ServerConfig struct {
    Port         int           `yaml:"port" json:"port"`
    Host         string        `yaml:"host" json:"host"`
    ReadTimeout  time.Duration `yaml:"read_timeout" json:"read_timeout"`
    WriteTimeout time.Duration `yaml:"write_timeout" json:"write_timeout"`
    IdleTimeout  time.Duration `yaml:"idle_timeout" json:"idle_timeout"`
    TLSEnabled   bool          `yaml:"tls_enabled" json:"tls_enabled"`
    TLSCertFile  string        `yaml:"tls_cert_file" json:"tls_cert_file"`
    TLSKeyFile   string        `yaml:"tls_key_file" json:"tls_key_file"`
}
```

<a name="ServerConfig.Validate"></a>
### func \(\*ServerConfig\) [Validate](<https://github.com/griffinskudder/updater/blob/main/internal/models/config.go#L249>)

```go
func (sc *ServerConfig) Validate() error
```



<a name="StatsResponse"></a>
## type [StatsResponse](<https://github.com/griffinskudder/updater/blob/main/internal/models/response.go#L183-L190>)



```go
type StatsResponse struct {
    TotalApplications int                    `json:"total_applications"`
    TotalReleases     int                    `json:"total_releases"`
    PlatformStats     map[string]int         `json:"platform_stats"`
    VersionStats      map[string]int         `json:"version_stats"`
    RecentActivity    []ActivityItem         `json:"recent_activity"`
    SystemInfo        map[string]interface{} `json:"system_info"`
}
```

<a name="StorageConfig"></a>
## type [StorageConfig](<https://github.com/griffinskudder/updater/blob/main/internal/models/config.go#L63-L68>)



```go
type StorageConfig struct {
    Type     string            `yaml:"type" json:"type"`
    Path     string            `yaml:"path" json:"path"`
    Database DatabaseConfig    `yaml:"database" json:"database"`
    Options  map[string]string `yaml:"options" json:"options"`
}
```

<a name="StorageConfig.Validate"></a>
### func \(\*StorageConfig\) [Validate](<https://github.com/griffinskudder/updater/blob/main/internal/models/config.go#L282>)

```go
func (stc *StorageConfig) Validate() error
```



<a name="TracingConfig"></a>
## type [TracingConfig](<https://github.com/griffinskudder/updater/blob/main/internal/models/config.go#L135-L140>)

TracingConfig holds configuration for distributed tracing.

```go
type TracingConfig struct {
    Enabled      bool    `yaml:"enabled" json:"enabled"`
    Exporter     string  `yaml:"exporter" json:"exporter"`
    SampleRate   float64 `yaml:"sample_rate" json:"sample_rate"`
    OTLPEndpoint string  `yaml:"otlp_endpoint" json:"otlp_endpoint"`
}
```

<a name="UpdateApplicationRequest"></a>
## type [UpdateApplicationRequest](<https://github.com/griffinskudder/updater/blob/main/internal/models/request.go#L103-L108>)



```go
type UpdateApplicationRequest struct {
    Name        *string            `json:"name,omitempty"`
    Description *string            `json:"description,omitempty"`
    Platforms   []string           `json:"platforms,omitempty"`
    Config      *ApplicationConfig `json:"config,omitempty"`
}
```

<a name="UpdateApplicationRequest.Normalize"></a>
### func \(\*UpdateApplicationRequest\) [Normalize](<https://github.com/griffinskudder/updater/blob/main/internal/models/request.go#L327>)

```go
func (r *UpdateApplicationRequest) Normalize()
```



<a name="UpdateApplicationRequest.Validate"></a>
### func \(\*UpdateApplicationRequest\) [Validate](<https://github.com/griffinskudder/updater/blob/main/internal/models/request.go#L305>)

```go
func (r *UpdateApplicationRequest) Validate() error
```



<a name="UpdateApplicationResponse"></a>
## type [UpdateApplicationResponse](<https://github.com/griffinskudder/updater/blob/main/internal/models/response.go#L96-L100>)



```go
type UpdateApplicationResponse struct {
    ID        string    `json:"id"`
    Message   string    `json:"message"`
    UpdatedAt time.Time `json:"updated_at"`
}
```

<a name="UpdateCheckRequest"></a>
## type [UpdateCheckRequest](<https://github.com/griffinskudder/updater/blob/main/internal/models/request.go#L33-L42>)

UpdateCheckRequest represents a request to check for available updates.

Core API Design: \- Required fields ensure we have minimum information for meaningful responses \- Platform/Architecture pair determines compatibility matching \- AllowPrerelease enables beta testing workflows \- IncludeMetadata controls response size \(metadata can be large\) \- UserAgent and ClientID support analytics and debugging \(optional\)

Security Notes: \- No sensitive information should be included \- All fields are validated before processing \- Version format is strictly validated to prevent injection

```go
type UpdateCheckRequest struct {
    ApplicationID   string `json:"application_id" validate:"required"`  // Target application identifier
    CurrentVersion  string `json:"current_version" validate:"required"` // Client's current version
    Platform        string `json:"platform" validate:"required"`        // Target OS (windows, linux, darwin)
    Architecture    string `json:"architecture" validate:"required"`    // Target arch (amd64, arm64, 386, arm)
    AllowPrerelease bool   `json:"allow_prerelease"`                    // Include pre-release versions
    IncludeMetadata bool   `json:"include_metadata"`                    // Include release metadata in response
    UserAgent       string `json:"user_agent,omitempty"`                // Client identification (optional)
    ClientID        string `json:"client_id,omitempty"`                 // Unique client ID (optional analytics)
}
```

<a name="UpdateCheckRequest.Normalize"></a>
### func \(\*UpdateCheckRequest\) [Normalize](<https://github.com/griffinskudder/updater/blob/main/internal/models/request.go#L132>)

```go
func (r *UpdateCheckRequest) Normalize()
```



<a name="UpdateCheckRequest.Validate"></a>
### func \(\*UpdateCheckRequest\) [Validate](<https://github.com/griffinskudder/updater/blob/main/internal/models/request.go#L120>)

```go
func (r *UpdateCheckRequest) Validate() error
```



<a name="UpdateCheckResponse"></a>
## type [UpdateCheckResponse](<https://github.com/griffinskudder/updater/blob/main/internal/models/response.go#L32-L46>)

UpdateCheckResponse provides complete information about available updates.

Response Strategy: \- UpdateAvailable is the primary decision field for clients \- All download information is provided when updates are available \- CurrentVersion echoes the request for client verification \- Required flag indicates critical security updates \- Metadata is optional to control response size \- UpgradeInstructions support complex update workflows

Client Usage: \- Check UpdateAvailable first \- Use Required flag to determine update urgency \- Verify checksums before installation \- Display ReleaseNotes to users for informed decisions

```go
type UpdateCheckResponse struct {
    UpdateAvailable     bool              `json:"update_available"`               // Primary decision flag
    LatestVersion       string            `json:"latest_version,omitempty"`       // Available version (if update exists)
    CurrentVersion      string            `json:"current_version"`                // Client's current version (echoed)
    DownloadURL         string            `json:"download_url,omitempty"`         // Download location (if update exists)
    Checksum            string            `json:"checksum,omitempty"`             // File integrity hash
    ChecksumType        string            `json:"checksum_type,omitempty"`        // Hash algorithm
    FileSize            int64             `json:"file_size,omitempty"`            // File size for progress tracking
    ReleaseNotes        string            `json:"release_notes,omitempty"`        // Human-readable changes
    ReleaseDate         *time.Time        `json:"release_date,omitempty"`         // Release timestamp
    Required            bool              `json:"required"`                       // Critical update flag
    MinimumVersion      string            `json:"minimum_version,omitempty"`      // Required current version
    Metadata            map[string]string `json:"metadata,omitempty"`             // Extended metadata (optional)
    UpgradeInstructions string            `json:"upgrade_instructions,omitempty"` // Custom upgrade steps
}
```

<a name="UpdateCheckResponse.SetNoUpdateAvailable"></a>
### func \(\*UpdateCheckResponse\) [SetNoUpdateAvailable](<https://github.com/griffinskudder/updater/blob/main/internal/models/response.go#L268>)

```go
func (r *UpdateCheckResponse) SetNoUpdateAvailable(currentVersion string)
```



<a name="UpdateCheckResponse.SetUpdateAvailable"></a>
### func \(\*UpdateCheckResponse\) [SetUpdateAvailable](<https://github.com/griffinskudder/updater/blob/main/internal/models/response.go#L254>)

```go
func (r *UpdateCheckResponse) SetUpdateAvailable(release *Release)
```



<a name="ValidationErrorResponse"></a>
## type [ValidationErrorResponse](<https://github.com/griffinskudder/updater/blob/main/internal/models/response.go#L199-L202>)



```go
type ValidationErrorResponse struct {
    Error  string            `json:"error"`
    Errors map[string]string `json:"errors"`
}
```

<a name="NewValidationErrorResponse"></a>
### func [NewValidationErrorResponse](<https://github.com/griffinskudder/updater/blob/main/internal/models/response.go#L247>)

```go
func NewValidationErrorResponse(errors map[string]string) *ValidationErrorResponse
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
